<!doctypehtml>
<html lang = "en" xmlns:th = "https://www.thymeleaf.org">
    <meta charset = "utf-8">
    <meta content = "width=device-width,initial-scale=1" name = "viewport">
    <title>Thanh toán</title>
    <link href = "https://fonts.googleapis.com" rel = "preconnect">
    <link crossorigin href = "https://fonts.gstatic.com" rel = "preconnect">
    <link href = "https://fonts.googleapis.com" rel = "dns-prefetch">
    <link href = "https://fonts.gstatic.com" rel = "dns-prefetch">
    <link crossorigin = "anonymous" href = "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity = "sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" rel = "stylesheet">
    <link rel = "stylesheet" th:href = "@{/css/common/styles.css}">
    <link rel = "stylesheet" th:href = "@{/css/bill.css}">
    <header th:replace = "~{fragments/header :: header}"></header>
    <br><br>
    <h1 class = "text-center">Đặt vé thành công!</h1><br>
    <div class = "text-center"><h1>Đã đặt: [[${bill.tickets.size()}]] ghế.</h1>
        <h2>Tổng tiền: [[${bill.totalPrice}]].000 VNĐ</h2>
        <h2>Thời gian đặt: [[${bill.dateCreated}]]</h2><br>
        <div class = "container">
            <table class = "booking-table">
                <thead>
                <tr>
                    <th class = "booking-header">Tên phim
                    <th class = "booking-header">Số thứ tự
                    <th class = "booking-header">Giờ chiếu
                    <th class = "booking-header">Ngày chiếu
                <tr th:each = "ticket : ${bill.tickets}">
                    <td class = "booking-cell" th:text = "${ticket.movieTitle}">
                    <td class = "booking-cell" th:text = "${ticket.seatLabel}">
                    <td class = "booking-cell" th:text = "${ticket.time}">
                    <td class = "booking-cell" th:text = "${ticket.date}">
            </table>
        </div>
        <br th:if = "${!bill.foods.isEmpty()}">
        <div class = "container" th:if = "${!bill.foods.isEmpty()}">
            <table class = "booking-table" style = display:inline-table>
                <thead>
                <tr>
                    <th class = "booking-header">Tên đồ ăn
                    <th class = "booking-header">Số lượng
                <tr th:each = "food : ${bill.foods.entrySet()}">
                    <td class = "booking-cell" th:text = "${food.key}">
                    <td class = "booking-cell" th:text = "${food.value}">
            </table>
        </div>
    </div>
    <br><img alt = "QR Code" class = "center-img" decoding = "async" fetchpriority = "high" th:src = "@{/images/qr.webp}"><br>
    <div class = "text-center button-container"><a th:href = "@{/}">
        <button class = "btn btn-primary" type = "submit">Quay về trang chủ</button>
    </a></div>
    <br><br>
    <footer th:replace = "~{fragments/footer :: footer}"></footer>
    <script crossorigin = "anonymous" integrity = "sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" src = "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>